---
title: DNS查询
date: 2021-2-14 16:21:59
tags: 计算机网络
categories: 计算机网络
---

### DNS查询过程

1. 客户端请求指定域名
2. 客户端查询本地DNS服务器缓存中是否有对应IP地址，如果有则返回
3. 否则，查询本地DNS服务器，如果本地DNS服务器有则返回
4. 否则，本地DNS服务器向根DNS服务器发起请求，根DNS服务器会解析根域名返回对应顶级DNS服务器的IP地址
5. 本地DNS服务器向顶级DNS服务器发起请求，顶级DNS服务器返回权威DNS服务器的IP地址
6. 本地DNS服务器向权威DNS服务器发起请求，权威DNS服务器会返回对应主机名的IP地址
7. 本地DNS服务器将返回的结果保存于缓存中，以便下次使用
8. 本地DNS服务器返回结果给客户端

### DNS查询中的递归查询和迭代查询

* 递归查询，指的是主机向本地DNS服务器发起查询。客户端只发起一次请求 ，本地DNS服务器会继续向下一级DNS服务器发起查询，最后将查询的结果返回
* 迭代查询，指的是本地DNS服务器向根DNS服务器的查询。客户端需要发出多次查询请求，本地DNS服务器只去单次查询并返回结果，下一级查询需要本地DNS服务器根据本次查询的结果继续去查询。



