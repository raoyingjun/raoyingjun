---
title: 页面渲染过程
date: 2022-2-11 15:37:21
tags: 前端
categories: 前端
---

### 浏览器解析页面过程

1. 浏览器获取到HTML文件，将各个标记解析成对应 DOM 节点以构建 DOM 树
2. 解析【1】的过程中，如果遇到 CSS 文件，则并行下载
3. 当 CSS 文件下载完毕，将会**阻塞** DOM 的解析，解析对应 CSS 样式生成对应 CSSOM 树
4. 解析【1】的过程中，如果遇到 JS 文件，将会**阻塞** DOM 的解析和对 Render Tree 的渲染
5. 当 JS 文件下载完毕，将会解析该脚本文件并执行
6. 如果【1】的 DOM 树构建完成，触发 document 的 DOMContentLoaded 事件
7. 根据 CSSOM 和 DOM生成 Render Tree
8. 根据 Render Tree 去进行布局及绘制，将内容呈现到显示到页面
9. 页面完全加载后（CSS 文件、Javascript 文件、图片等），触发 window 的 load 事件

### 注意事项

* 多个 CSS 文件下载是**并行**的，优先解析下载好的文件。样式的最终呈现**与下载顺序无关，与优先级有关**

  > * 如果多个 CSS（文件）样式规则优先级相同则合并样式
  >
  > * 否则生效规则依据样式的优先级决定

* 多个 JS 文件的下载与解析执行均是**串行**的，不包括使用 async 和 defer 的情况

