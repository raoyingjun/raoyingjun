---
title: 页面渲染过程
date: 2022-2-11 15:37:21
tags: 前端
categories: 前端
---

### 浏览器解析页面过程

1. 浏览器获取到 HTML 文件，将各个标记解析成对应 DOM 节点以构建 DOM 树
2. 解析【1】的过程中，如果遇到 CSS 文件，则**并行**下载
3. 当 CSS 文件下载完毕，解析对应 CSS 样式生成对应 CSSOM 树，该过程不会**阻塞** DOM 的解析，但会阻塞 DOM 树的渲染
4. 解析【1】的过程中，如果遇到 Javascript 文件，则**串行**下载
5. 当 Javascript 文件下载完毕，将会解析该脚本文件并执行，该过程会**阻塞** DOM 的解析，但会阻塞 DOM 树的渲染
6. 如果【1】的 DOM 树构建完成，触发 document 的 DOMContentLoaded 事件
7. 结合 CSSOM 树和 DOM 树生成 Render Tree，根据 Render Tree 进行布局及绘制，将内容呈现到页面
8. 页面完全加载后（CSS 文件、Javascript 文件、图片等），触发 window 的 load 事件

### 注意事项

* 多个 CSS 文件下载是**并行**的，优先解析下载好的文件。样式的最终呈现**与下载顺序无关，与优先级有关**
  > * 如果多个 CSS（文件）样式规则优先级相同则合并样式，否则生效规则依据样式的优先级决定
  > * CSS（文件）的下载不会阻塞其后的 Javascript 的下载，但会阻塞 Javascript 的执行

* 多个 Javascript 文件的下载与解析执行均是**串行**的，会**阻塞页面其他动作**。此处不包括使用 async 和 defer 的情况

