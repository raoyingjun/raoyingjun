---
title: js中的各种继承方式
date: 2022-2-22 0:35:27
tags: javascript
categories: javascript
---

### 原型链继承

利用原型链实现继承。通过子类原型引用父类实例来实现对父类的继承

优点

*  子类可以继承父类的属性和方法

缺点

* 由于原型对象上的引用值是在实例中共享的，因此属性一般是定义在构造函数中
* 子类实例化无法给父类构造函数传参

### 盗用构造函数继承

通过 call 和 apply 方法盗用 this 实现继承

优点

* 可以向父类构造函数传参
* 子类可以继承父类构造函数上的属性和方法

缺点

* 子类无法访问父类原型上的方法
* 在父类构造函数中定义的方法不能重用

### 组合继承（常用的继承方式）

结合原型链继承和盗用构造函数继承

优点

* 弥补了原型链继承和盗用构造函数继承的不足
* instanceof 操作符和 isPrototypeOf 方法正常有效

缺点

* 父类构造函数会被执行两次

### 原型式继承

不使用构造函数来实现继承，而是通过原型来实现对象之间的信息共享

优点

* 适用于不需要创建构造函数但仍需要在对象之间共享信息的场景

缺点

* 原型中的引用值在相关对象之间也是共享的，跟原型链继承类似

### 寄生式继承

结合原型式继承和工厂函数实现继承。包装一层函数实现继承，然后增强该对象并返回

优点

* 适用于不在乎类型和构造函数的场景，适用于只关注对象的情况

缺点

* 通过这种继承方式添加的函数难以复用，与构造函数模式类似

  > 在构造函数模式中，其属性和方法都被创建在该对象实例上，导致方法也是难以重用

### 寄生式组合继承（最佳方案）

通过盗用构造函数继承属性，混合原型式继承来继承方法，利用寄生式继承的思路来增强对象。使用寄生式继承的方式来继承父类的原型，然后将返回的新对象赋值给子类原型

优点

* 只调用一次父类构造函数
* 避免了在子类原型上创建不必要的属性。像组合继承会子类原型会以父类构造函数的实例作为原型继承，不可避免的多余了不必要的属性
* instanceof 操作符和 isPrototypeOf 方法正常有效



