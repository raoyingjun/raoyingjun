---
title: 微信小程序的渲染层和逻辑层
date: 2022-5-6 17:01:43
tags: 微信小程序
categories: 微信小程序
---

### 了解渲染层和逻辑层

小程序的运行环境分为渲染层和逻辑层。对应模板、样式、脚本在哪个层工作如下所示

* 渲染层：wxss、wxml

* 逻辑层：javascript 

### 渲染层和逻辑层对应线程

渲染层和逻辑层分别由2个线程进行管理。如下所示

* 渲染层：使用WebView线程进行渲染。由于小程序存在多个界面，所以**渲染层存在多个WebView线程**

* 逻辑层：使用JsCore线程运行JS脚本

### 渲染层和逻辑层如何通信

渲染层和逻辑层之间的通信是通过微信客户端做中转，其中逻辑层发送的网络请求也是经由微信客户端进行转发，下图是小程序的通信模型。（图片来源于微信官方文档）

<img title="" src="https://res.wx.qq.com/wxdoc/dist/assets/img/4-1.ad156d1c.png" alt="渲染层和逻辑层如何通信" data-align="inline">
